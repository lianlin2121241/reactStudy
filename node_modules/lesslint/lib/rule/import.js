'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.check = undefined;

var _chalk = require('chalk');

var _chalk2 = _interopRequireDefault(_chalk);

var _postcss = require('postcss');

var _postcss2 = _interopRequireDefault(_postcss);

var _util = require('../util');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

'use strict';

/**
 * 规则名称
 *
 * @const
 * @type {string}
 */
/**
 * @file @import 检验
 *       @import 语句引用的文件必须（MUST）写在一对引号内，.less 后缀不得（MUST NOT）省略（与引入 CSS 文件时的路径格式一致）。
 *       引号使用 ' 和 " 均可，但在同一项目内必须（MUST）统一。
 *       https://github.com/ecomfe/spec/blob/master/less-code-style.md#import-%E8%AF%AD%E5%8F%A5
 * @author ielgnaw(wuji0223@gmail.com)
 */

var RULENAME = 'import';

/**
 * less 文件后缀正则
 *
 * @const
 * @type {RegExp}
 */
var LESS_SUFFIX_REG = /\.less$/;

/**
 * 记录当前检测的 less 文件中 @import 的引号是单引号还是双引号
 * 按第一个读取到的引号为准，同一文件内要统一  {quoteVal, filePath}
 *
 * @type {Object}
 */
var importQuote = {
    quoteVal: null,
    filePath: ''
};

/**
 * 具体的检测逻辑
 *
 * @param {Object} opts 参数
 * @param {*} opts.ruleVal 当前规则具体配置的值
 * @param {string} opts.fileContent 文件内容
 * @param {string} opts.filePath 文件路径
 */
var check = exports.check = _postcss2.default.plugin(RULENAME, function (opts) {
    return function (css, result) {

        if (!opts.ruleVal) {
            return;
        }

        if (importQuote.filePath !== opts.filePath) {
            importQuote.filePath = opts.filePath;
            importQuote.quoteVal = null;
        }

        css.walkAtRules(function (rule) {
            if (rule.name !== 'import') {
                return;
            }

            var params = rule.params.replace(/^(['"])/, '').replace(/(['"])$/, '');

            var quote = RegExp.$1;
            var lineNum = rule.source.start.line;
            var lineContent = (0, _util.getLineContent)(lineNum, opts.fileContent);

            // @import 语句引用的文件必须（MUST）写在一对引号内
            if (!quote) {
                result.warn(RULENAME, {
                    node: rule,
                    ruleName: RULENAME,
                    line: lineNum,
                    col: rule.source.end.column - rule.params.length,
                    message: '`' + lineContent + '` @import statement must wrote a pair of quotation marks',
                    colorMessage: '`' + lineContent.replace(params, _chalk2.default.magenta(params)) + '` ' + _chalk2.default.grey('@import statement must wrote a pair of quotation marks')
                });
            } else {
                if (!importQuote.quoteVal) {
                    importQuote.quoteVal = quote;
                }

                // 同一个文件内，引号和当前文件的第一个引号不相同
                if (quote !== importQuote.quoteVal && opts.filePath === importQuote.filePath) {
                    result.warn(RULENAME, {
                        node: rule,
                        ruleName: RULENAME,
                        line: lineNum,
                        col: rule.source.end.column - rule.params.length,
                        message: '' + ('`' + lineContent + '` Quotes must be the same in the same file,') + ('Current file the first quote is `' + importQuote.quoteVal + '`'),
                        colorMessage: '`' + lineContent.replace(new RegExp(quote, 'g'), _chalk2.default.magenta(quote)) + ' ' + _chalk2.default.grey('Quotes must be the same in the same file, Current file ' + 'the first quote is `' + _chalk2.default.magenta(importQuote.quoteVal) + '`')
                    });
                }
            }

            // .less 后缀不得（MUST NOT）省略
            if (!LESS_SUFFIX_REG.test(params)) {
                result.warn(RULENAME, {
                    node: rule,
                    ruleName: RULENAME,
                    line: lineNum,
                    col: rule.source.end.column - rule.params.length,
                    message: '`' + lineContent + '` .less suffix must not be omitted',
                    colorMessage: '`' + lineContent.replace(params, _chalk2.default.magenta(params)) + '` ' + _chalk2.default.grey('.less suffix must not be omitted')
                });
            }
        });
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ydWxlL2ltcG9ydC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBUUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7O0FBRUE7Ozs7OztBQWRBOzs7Ozs7OztBQW9CQSxJQUFNLFdBQVcsUUFBakI7O0FBRUE7Ozs7OztBQU1BLElBQU0sa0JBQWtCLFNBQXhCOztBQUVBOzs7Ozs7QUFNQSxJQUFNLGNBQWM7QUFDaEIsY0FBVSxJQURNO0FBRWhCLGNBQVU7QUFGTSxDQUFwQjs7QUFLQTs7Ozs7Ozs7QUFRTyxJQUFNLHdCQUFRLGtCQUFRLE1BQVIsQ0FBZSxRQUFmLEVBQXlCO0FBQUEsV0FDMUMsVUFBQyxHQUFELEVBQU0sTUFBTixFQUFpQjs7QUFFYixZQUFJLENBQUMsS0FBSyxPQUFWLEVBQW1CO0FBQ2Y7QUFDSDs7QUFFRCxZQUFJLFlBQVksUUFBWixLQUF5QixLQUFLLFFBQWxDLEVBQTRDO0FBQ3hDLHdCQUFZLFFBQVosR0FBdUIsS0FBSyxRQUE1QjtBQUNBLHdCQUFZLFFBQVosR0FBdUIsSUFBdkI7QUFDSDs7QUFFRCxZQUFJLFdBQUosQ0FBZ0IsZ0JBQVE7QUFDcEIsZ0JBQUksS0FBSyxJQUFMLEtBQWMsUUFBbEIsRUFBNEI7QUFDeEI7QUFDSDs7QUFFRCxnQkFBTSxTQUFTLEtBQUssTUFBTCxDQUFZLE9BQVosQ0FBb0IsU0FBcEIsRUFBK0IsRUFBL0IsRUFBbUMsT0FBbkMsQ0FBMkMsU0FBM0MsRUFBc0QsRUFBdEQsQ0FBZjs7QUFFQSxnQkFBTSxRQUFRLE9BQU8sRUFBckI7QUFDQSxnQkFBTSxVQUFVLEtBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsSUFBbEM7QUFDQSxnQkFBTSxjQUFjLDBCQUFlLE9BQWYsRUFBd0IsS0FBSyxXQUE3QixDQUFwQjs7QUFFQTtBQUNBLGdCQUFJLENBQUMsS0FBTCxFQUFZO0FBQ1IsdUJBQU8sSUFBUCxDQUFZLFFBQVosRUFBc0I7QUFDbEIsMEJBQU0sSUFEWTtBQUVsQiw4QkFBVSxRQUZRO0FBR2xCLDBCQUFNLE9BSFk7QUFJbEIseUJBQUssS0FBSyxNQUFMLENBQVksR0FBWixDQUFnQixNQUFoQixHQUF5QixLQUFLLE1BQUwsQ0FBWSxNQUp4QjtBQUtsQixtQ0FBYyxXQUFkLDZEQUxrQjtBQU1sQixrQ0FBYyxNQUNSLFlBQVksT0FBWixDQUNFLE1BREYsRUFFRSxnQkFBTSxPQUFOLENBQWMsTUFBZCxDQUZGLENBRFEsR0FLUixJQUxRLEdBTVIsZ0JBQU0sSUFBTixDQUFXLHdEQUFYO0FBWlksaUJBQXRCO0FBY0gsYUFmRCxNQWdCSztBQUNELG9CQUFJLENBQUMsWUFBWSxRQUFqQixFQUEyQjtBQUN2QixnQ0FBWSxRQUFaLEdBQXVCLEtBQXZCO0FBQ0g7O0FBRUQ7QUFDQSxvQkFBSSxVQUFVLFlBQVksUUFBdEIsSUFBa0MsS0FBSyxRQUFMLEtBQWtCLFlBQVksUUFBcEUsRUFBOEU7QUFDMUUsMkJBQU8sSUFBUCxDQUFZLFFBQVosRUFBc0I7QUFDbEIsOEJBQU0sSUFEWTtBQUVsQixrQ0FBVSxRQUZRO0FBR2xCLDhCQUFNLE9BSFk7QUFJbEIsNkJBQUssS0FBSyxNQUFMLENBQVksR0FBWixDQUFnQixNQUFoQixHQUF5QixLQUFLLE1BQUwsQ0FBWSxNQUp4QjtBQUtsQixpQ0FBUyxZQUNFLFdBREYsMkZBRWtDLFlBQVksUUFGOUMsT0FMUztBQVFsQixzQ0FBYyxNQUNSLFlBQVksT0FBWixDQUNFLElBQUksTUFBSixDQUFXLEtBQVgsRUFBa0IsR0FBbEIsQ0FERixFQUVFLGdCQUFNLE9BQU4sQ0FBYyxLQUFkLENBRkYsQ0FEUSxHQUtSLEdBTFEsR0FNUixnQkFBTSxJQUFOLENBQVcsNERBQ1gsc0JBRFcsR0FFWCxnQkFBTSxPQUFOLENBQWMsWUFBWSxRQUExQixDQUZXLEdBR1gsR0FIQTtBQWRZLHFCQUF0QjtBQW1CSDtBQUNKOztBQUVEO0FBQ0EsZ0JBQUksQ0FBQyxnQkFBZ0IsSUFBaEIsQ0FBcUIsTUFBckIsQ0FBTCxFQUFtQztBQUMvQix1QkFBTyxJQUFQLENBQVksUUFBWixFQUFzQjtBQUNsQiwwQkFBTSxJQURZO0FBRWxCLDhCQUFVLFFBRlE7QUFHbEIsMEJBQU0sT0FIWTtBQUlsQix5QkFBSyxLQUFLLE1BQUwsQ0FBWSxHQUFaLENBQWdCLE1BQWhCLEdBQXlCLEtBQUssTUFBTCxDQUFZLE1BSnhCO0FBS2xCLG1DQUFjLFdBQWQsdUNBTGtCO0FBTWxCLGtDQUFjLE1BQ1IsWUFBWSxPQUFaLENBQ0UsTUFERixFQUVFLGdCQUFNLE9BQU4sQ0FBYyxNQUFkLENBRkYsQ0FEUSxHQUtSLElBTFEsR0FNUixnQkFBTSxJQUFOLENBQVcsa0NBQVg7QUFaWSxpQkFBdEI7QUFjSDtBQUNKLFNBMUVEO0FBMkVILEtBdkZ5QztBQUFBLENBQXpCLENBQWQiLCJmaWxlIjoiaW1wb3J0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBAaW1wb3J0IOajgOmqjFxuICogICAgICAgQGltcG9ydCDor63lj6XlvJXnlKjnmoTmlofku7blv4XpobvvvIhNVVNU77yJ5YaZ5Zyo5LiA5a+55byV5Y+35YaF77yMLmxlc3Mg5ZCO57yA5LiN5b6X77yITVVTVCBOT1TvvInnnIHnlaXvvIjkuI7lvJXlhaUgQ1NTIOaWh+S7tuaXtueahOi3r+W+hOagvOW8j+S4gOiHtO+8ieOAglxuICogICAgICAg5byV5Y+35L2/55SoICcg5ZKMIFwiIOWdh+WPr++8jOS9huWcqOWQjOS4gOmhueebruWGheW/hemhu++8iE1VU1TvvInnu5/kuIDjgIJcbiAqICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9lY29tZmUvc3BlYy9ibG9iL21hc3Rlci9sZXNzLWNvZGUtc3R5bGUubWQjaW1wb3J0LSVFOCVBRiVBRCVFNSU4RiVBNVxuICogQGF1dGhvciBpZWxnbmF3KHd1amkwMjIzQGdtYWlsLmNvbSlcbiAqL1xuXG5pbXBvcnQgY2hhbGsgZnJvbSAnY2hhbGsnO1xuaW1wb3J0IHBvc3Rjc3MgZnJvbSAncG9zdGNzcyc7XG5pbXBvcnQge2dldExpbmVDb250ZW50fSBmcm9tICcuLi91dGlsJztcblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIOinhOWImeWQjeensFxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgUlVMRU5BTUUgPSAnaW1wb3J0JztcblxuLyoqXG4gKiBsZXNzIOaWh+S7tuWQjue8gOato+WImVxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xuY29uc3QgTEVTU19TVUZGSVhfUkVHID0gL1xcLmxlc3MkLztcblxuLyoqXG4gKiDorrDlvZXlvZPliY3mo4DmtYvnmoQgbGVzcyDmlofku7bkuK0gQGltcG9ydCDnmoTlvJXlj7fmmK/ljZXlvJXlj7fov5jmmK/lj4zlvJXlj7dcbiAqIOaMieesrOS4gOS4quivu+WPluWIsOeahOW8leWPt+S4uuWHhu+8jOWQjOS4gOaWh+S7tuWGheimgee7n+S4gCAge3F1b3RlVmFsLCBmaWxlUGF0aH1cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5jb25zdCBpbXBvcnRRdW90ZSA9IHtcbiAgICBxdW90ZVZhbDogbnVsbCxcbiAgICBmaWxlUGF0aDogJydcbn07XG5cbi8qKlxuICog5YW35L2T55qE5qOA5rWL6YC76L6RXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMg5Y+C5pWwXG4gKiBAcGFyYW0geyp9IG9wdHMucnVsZVZhbCDlvZPliY3op4TliJnlhbfkvZPphY3nva7nmoTlgLxcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRzLmZpbGVDb250ZW50IOaWh+S7tuWGheWuuVxuICogQHBhcmFtIHtzdHJpbmd9IG9wdHMuZmlsZVBhdGgg5paH5Lu26Lev5b6EXG4gKi9cbmV4cG9ydCBjb25zdCBjaGVjayA9IHBvc3Rjc3MucGx1Z2luKFJVTEVOQU1FLCBvcHRzID0+XG4gICAgKGNzcywgcmVzdWx0KSA9PiB7XG5cbiAgICAgICAgaWYgKCFvcHRzLnJ1bGVWYWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbXBvcnRRdW90ZS5maWxlUGF0aCAhPT0gb3B0cy5maWxlUGF0aCkge1xuICAgICAgICAgICAgaW1wb3J0UXVvdGUuZmlsZVBhdGggPSBvcHRzLmZpbGVQYXRoO1xuICAgICAgICAgICAgaW1wb3J0UXVvdGUucXVvdGVWYWwgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY3NzLndhbGtBdFJ1bGVzKHJ1bGUgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bGUubmFtZSAhPT0gJ2ltcG9ydCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHJ1bGUucGFyYW1zLnJlcGxhY2UoL14oWydcIl0pLywgJycpLnJlcGxhY2UoLyhbJ1wiXSkkLywgJycpO1xuXG4gICAgICAgICAgICBjb25zdCBxdW90ZSA9IFJlZ0V4cC4kMTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVOdW0gPSBydWxlLnNvdXJjZS5zdGFydC5saW5lO1xuICAgICAgICAgICAgY29uc3QgbGluZUNvbnRlbnQgPSBnZXRMaW5lQ29udGVudChsaW5lTnVtLCBvcHRzLmZpbGVDb250ZW50KTtcblxuICAgICAgICAgICAgLy8gQGltcG9ydCDor63lj6XlvJXnlKjnmoTmlofku7blv4XpobvvvIhNVVNU77yJ5YaZ5Zyo5LiA5a+55byV5Y+35YaFXG4gICAgICAgICAgICBpZiAoIXF1b3RlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0Lndhcm4oUlVMRU5BTUUsIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogcnVsZSxcbiAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWU6IFJVTEVOQU1FLFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBsaW5lTnVtLFxuICAgICAgICAgICAgICAgICAgICBjb2w6IHJ1bGUuc291cmNlLmVuZC5jb2x1bW4gLSBydWxlLnBhcmFtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBcXGAke2xpbmVDb250ZW50fVxcYCBAaW1wb3J0IHN0YXRlbWVudCBtdXN0IHdyb3RlIGEgcGFpciBvZiBxdW90YXRpb24gbWFya3NgLFxuICAgICAgICAgICAgICAgICAgICBjb2xvck1lc3NhZ2U6ICdgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyBsaW5lQ29udGVudC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFsay5tYWdlbnRhKHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJ2AgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyBjaGFsay5ncmV5KCdAaW1wb3J0IHN0YXRlbWVudCBtdXN0IHdyb3RlIGEgcGFpciBvZiBxdW90YXRpb24gbWFya3MnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbXBvcnRRdW90ZS5xdW90ZVZhbCkge1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRRdW90ZS5xdW90ZVZhbCA9IHF1b3RlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIOWQjOS4gOS4quaWh+S7tuWGhe+8jOW8leWPt+WSjOW9k+WJjeaWh+S7tueahOesrOS4gOS4quW8leWPt+S4jeebuOWQjFxuICAgICAgICAgICAgICAgIGlmIChxdW90ZSAhPT0gaW1wb3J0UXVvdGUucXVvdGVWYWwgJiYgb3B0cy5maWxlUGF0aCA9PT0gaW1wb3J0UXVvdGUuZmlsZVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lndhcm4oUlVMRU5BTUUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IHJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlTmFtZTogUlVMRU5BTUUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiBsaW5lTnVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiBydWxlLnNvdXJjZS5lbmQuY29sdW1uIC0gcnVsZS5wYXJhbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGBcXGAke2xpbmVDb250ZW50fVxcYCBRdW90ZXMgbXVzdCBiZSB0aGUgc2FtZSBpbiB0aGUgc2FtZSBmaWxlLGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGBDdXJyZW50IGZpbGUgdGhlIGZpcnN0IHF1b3RlIGlzIFxcYCR7aW1wb3J0UXVvdGUucXVvdGVWYWx9XFxgYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yTWVzc2FnZTogJ2AnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBsaW5lQ29udGVudC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKHF1b3RlLCAnZycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFsay5tYWdlbnRhKHF1b3RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICcgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgY2hhbGsuZ3JleSgnUXVvdGVzIG11c3QgYmUgdGhlIHNhbWUgaW4gdGhlIHNhbWUgZmlsZSwgQ3VycmVudCBmaWxlICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICd0aGUgZmlyc3QgcXVvdGUgaXMgYCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGNoYWxrLm1hZ2VudGEoaW1wb3J0UXVvdGUucXVvdGVWYWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnYCcpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLmxlc3Mg5ZCO57yA5LiN5b6X77yITVVTVCBOT1TvvInnnIHnlaVcbiAgICAgICAgICAgIGlmICghTEVTU19TVUZGSVhfUkVHLnRlc3QocGFyYW1zKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC53YXJuKFJVTEVOQU1FLCB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBSVUxFTkFNRSxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogbGluZU51bSxcbiAgICAgICAgICAgICAgICAgICAgY29sOiBydWxlLnNvdXJjZS5lbmQuY29sdW1uIC0gcnVsZS5wYXJhbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgXFxgJHtsaW5lQ29udGVudH1cXGAgLmxlc3Mgc3VmZml4IG11c3Qgbm90IGJlIG9taXR0ZWRgLFxuICAgICAgICAgICAgICAgICAgICBjb2xvck1lc3NhZ2U6ICdgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyBsaW5lQ29udGVudC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFsay5tYWdlbnRhKHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJ2AgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyBjaGFsay5ncmV5KCcubGVzcyBzdWZmaXggbXVzdCBub3QgYmUgb21pdHRlZCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbik7XG4iXX0=